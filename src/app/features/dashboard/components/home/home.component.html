<div class="flex flex-col bg-gray-100">
  <!-- Client selector and app mode row -->
  <div class="p-4 bg-white shadow-md rounded-lg mb-4 flex flex-col sm:flex-row justify-between items-center">
    <p class="text-lg font-semibold flex items-center mb-3 sm:mb-0">
      <span class="mr-2">Modo de la aplicación:</span>
      <span [ngClass]="{'bg-green-100 text-green-800': isAutomatic, 'bg-red-100 text-red-800': !isAutomatic}" class="px-3 py-1 rounded-full text-sm font-medium">
        {{ isAutomatic ? 'Automático' : 'Manual' }}
      </span>
    </p>
    <div class="client-selector">
      <app-client-selector></app-client-selector>
    </div>
  </div>
  
  <div class="flex flex-col md:flex-row p-6">
    <div class="md:w-1/3 md:mr-4">
      <app-parameters
        [latestTemperature]="latestTemperature"
        [latestHumidity]="latestHumidity"
        [latestUpdate]="latestUpdate"
        [latestLightLevel]="latestLightLevel">
      </app-parameters>
    </div>
    <div class="md:w-1/3 md:mr-4">
      <app-charts
        [temperatureData]="temperatureData"
        [humidityData]="humidityData"
        [labels]="labels"
        [lightLevelData]="lightLevelData">
      </app-charts>
    </div>
    <div class="md:w-1/3">
      <app-events></app-events>
    </div>
  </div>
</div>