<div class="bg-white p-4 rounded-lg shadow-lg">
  <h2 class="text-xl font-bold text-gray-900 mb-4">Últimos eventos registrados</h2>
  <div class="mb-4">
    <label for="topicFilter" class="block text-sm font-medium text-gray-700 mb-2">Filtrar por tema:</label>
    <div class="relative">
      <select id="topicFilter" [(ngModel)]="selectedTopic" (change)="fetchEvents(true)" class="block appearance-none w-full bg-white border border-gray-300 hover:border-gray-400 px-4 py-2 pr-8 rounded shadow leading-tight focus:outline-none focus:shadow-outline">
        <option value="">Todos</option>
        <option value="temperatura">Temperatura</option>
        <option value="humedad">Humedad</option>
        <option value="iluminacion">Iluminación</option>
      </select>
      <div class="pointer-events-none absolute inset-y-0 right-0 flex items-center px-2 text-gray-700">
        <svg class="fill-current h-4 w-4" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20"><path d="M7 10l5 5 5-5H7z"/></svg>
      </div>
    </div>
  </div>
  <ul class="space-y-4">
    <li *ngFor="let event of events" class="bg-gray-100 p-4 rounded-lg shadow-md flex items-start transition-transform transform hover:scale-95">
      <span class="text-xl mr-3">{{ getIconForTopic(event.topic) }}</span>
      <div>
        <p class="font-semibold text-md">{{ event.message }}</p>
        <p class="text-sm text-gray-600">{{ event.formattedTimestamp }}</p>
      </div>
    </li>
  </ul>
</div>
